<?xml version="1.0" encoding="utf-8" ?>
<Patch>              
<!-- LIGHTING -->
                <Operation Class="PatchOperationReplace">
                    <xpath>Defs/ThingDef[defName="TorchLamp"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Lighting</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <xpath>Defs/ThingDef[@Name="LampBase"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Lighting</designationCategory>
                    </value>
                </Operation>

<!-- BEDROOM -->
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[@Name="SleepingSpotBase"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Bedroom</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationAdd">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[@Name="BedBase"]</xpath>
                    <value>
                        <designationCategory>Ferny_Bedroom</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationAdd">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[@Name="BedWithQualityBase"]</xpath>
                    <value>
                        <designationCategory>Ferny_Bedroom</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationAdd">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="Dresser"]</xpath>
                    <value>
                        <designationCategory>Ferny_Bedroom</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationAdd">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="EndTable"]</xpath>
                    <value>
                        <designationCategory>Ferny_Bedroom</designationCategory>
                    </value>
                </Operation>


<!-- KITCHEN -->
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="ElectricStove"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Kitchen</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="FueledStove"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Kitchen</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="NutrientPasteDispenser"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Kitchen</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="ButcherSpot"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Kitchen</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="TableButcher"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Kitchen</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="Brewery"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Kitchen</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="FermentingBarrel"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Kitchen</designationCategory>
                    </value>
                </Operation>

<!-- AUXILIARIES -->
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="ToolCabinet"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Auxiliaries</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="MultiAnalyzer"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Auxiliaries</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="VitalsMonitor"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Auxiliaries</designationCategory>
                    </value>
                </Operation>

<!-- CORE PATCHES -->
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="Fence"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Animals</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationAdd">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="FenceGate"]</xpath>
                    <value>
                        <designationCategory>Ferny_Animals</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationAdd">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="AnimalFlap"]</xpath>
                    <value>
                        <designationCategory>Ferny_Animals</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="PenMarker"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Animals</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="EggBox"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Animals</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="AnimalSleepingSpot"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Animals</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationAdd">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="AnimalSleepingBox"]</xpath>
                    <value>
                        <designationCategory>Ferny_Animals</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationAdd">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="AnimalBed"]</xpath>
                    <value>
                        <designationCategory>Ferny_Animals</designationCategory>
                    </value>
                </Operation>


<!-- POWER MANAGEMENT -->
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="PowerConduit"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_PowerManagement</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="PowerSwitch"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_PowerManagement</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="Battery"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_PowerManagement</designationCategory>
                    </value>
                </Operation>


<!-- POWER GENERATION -->
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="WoodFiredGenerator"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_PowerGeneration</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="ChemfuelPoweredGenerator"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_PowerGeneration</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="WindTurbine"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_PowerGeneration</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="WindTurbine"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_PowerGeneration</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="SolarGenerator"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_PowerGeneration</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="GeothermalGenerator"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_PowerGeneration</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="WatermillGenerator"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_PowerGeneration</designationCategory>
                    </value>
                </Operation>


<!-- ANIMALS -->

                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="CaravanPackingSpot"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Animals</designationCategory>
                    </value>
                </Operation>

                <Operation Class="PatchOperationConditional">
                <success>Always</success>
                    <xpath>/Defs/ThingDef[defName="CaravanPackingSpot"]/uiOrder</xpath>
                    <match Class="PatchOperationSequence">
                        <operations>
                            <li Class="PatchOperationReplace">
                                <xpath>/Defs/ThingDef[defName="CaravanPackingSpot"]/uiOrder</xpath>
                                <value>
                                    <uiOrder>99999</uiOrder>
                                </value>
                            </li>
                        </operations>
                    </match>
                    <nomatch Class="PatchOperationSequence">
                        <operations>
                            <li Class="PatchOperationAdd">
                                <xpath>/Defs/ThingDef[defName="CaravanPackingSpot"]</xpath>
                                <value>
                                    <uiOrder>99999</uiOrder>
                                </value>
                            </li>
                        </operations>
                    </nomatch>
                </Operation>



</Patch>